<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>로그인 | K-Explore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        :root{
          --card-w: 420px;
          --radius: 14px;
          --line: #ececec;
          --bg: #f6f7f9;
          --txt: #111;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
          margin:0; background:var(--bg); color:var(--txt);
          font-family:system-ui,-apple-system,"Noto Sans KR",Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        }

        /* 전체 레이아웃: 로고 + 카드가 한 스택 */
        .center{
          min-height:100%;
          display:grid; place-items:center;
          padding:28px;
        }
        .stack{
          display:grid; justify-items:center;
          row-gap: 16px;   /* ← 로고와 카드 간격 (이미지처럼 가깝게) */
        }

        /* 로그인 전용 브랜드 마크 (이미지와 동일 배치/크기) */
        .brand-login a{ color:#111; text-decoration:none; font-weight:900; letter-spacing:.2px }
        .brand-login .k{
          font-weight:1000; line-height:1;
          background:linear-gradient(180deg,#d62828 0%, #ff6b6b 35%, #0057b8 65%, #3a86ff 100%);
          -webkit-background-clip:text; background-clip:text; color:transparent;
          font-size:28px;
        }
        .brand-login .rest{ font-size:26px; font-weight:800; line-height:1 }

        /* 카드 */
        .card{
          width:var(--card-w);
          background:#fff;
          border:1px solid var(--line);
          border-radius:var(--radius);
          box-shadow:0 16px 42px rgba(0,0,0,.08);
          padding:26px;
        }
        .title{
          margin:0 0 18px;
          text-align:center;
          font-size:22px;
          font-weight:900;
        }

        /* 폼 요소 */
        .field{ margin-bottom:12px }
        input[type=text],input[type=password]{
          width:100%; height:46px;
          border:1px solid #e6e6e6; border-radius:10px;
          background:#fff; padding:0 14px; font-size:15px; outline:none;
        }
        input:focus{ border-color:#d2d2d2; box-shadow:0 0 0 3px rgba(0,0,0,.04) }

        /* 버튼 */
        .btn{
          width:100%; height:46px; border-radius:10px;
          font-weight:800; cursor:pointer; transition:.18s; font-size:15px;
          display:grid; place-items:center;
        }
        .btn + .btn{ margin-top:10px }

        /* 로그인 버튼: 입력 전 비활성(불투명), 입력 후 활성 */
        #loginBtn{
          background:#111; color:#fff; border:1px solid #111;
          opacity:.42; pointer-events:none;
        }
        #loginBtn.on{
          opacity:1; pointer-events:auto; box-shadow:0 10px 22px rgba(17,17,17,.18);
        }
        #loginBtn.on:hover{ transform:translateY(-1px) }

        /* 회원가입 버튼: 회색 → hover 시 밝게 */
        .ghost{
          background:#efefef; border:1px solid #dadada; color:#111; text-decoration:none;
        }
        .ghost:hover{
          background:#fff; border-color:#c8c8c8; box-shadow:0 10px 24px rgba(0,0,0,.08);
          transform:translateY(-1px);
        }

        /* 하단 링크 */
        .linkbar{ margin-top:12px; text-align:center }
        .linkbar a{
          color:#666; font-size:12px; text-decoration:underline; text-underline-offset:3px; margin:0 10px;
        }

        @media (max-width:480px){
          :root{ --card-w: 92vw }
        }
    </style>
</head>
<body>
<div class="center">
    <div class="stack">
        <!-- ✅ 로고를 카드 위에 가깝게 배치 (두 번째 이미지와 동일) -->
        <div class="brand-login">
            <a th:href="@{/}">
                <span class="k">K</span><span class="rest">-Explore</span>
            </a>
        </div>

        <section class="card">
            <h1 class="title">로그인</h1>

            <form th:action="@{/loginProc}" method="post" id="loginForm">
                <div class="field">
                    <input id="username" name="username" type="text" placeholder="아이디" autocomplete="username" required>
                </div>
                <div class="field">
                    <input id="password" name="password" type="password" placeholder="비밀번호" autocomplete="current-password" required>
                </div>

                <button id="loginBtn" type="submit" class="btn" aria-disabled="true">로그인</button>
                <a th:href="@{/user/signup}" class="btn ghost">회원가입</a>

                <div class="linkbar">
                    <a th:href="@{/user/find-username}">아이디 찾기</a>
                    <a th:href="@{/user/reset-password}">비밀번호 찾기</a>
                </div>
            </form>

            <div th:if="${loginErrorMsg}">
                <script th:inline="javascript">
                    alert(/*[[${loginErrorMsg}]]*/ '아이디 또는 비밀번호가 올바르지 않습니다.');
                </script>
            </div>
        </section>
    </div>
</div>

<script>
    // 아이디/비번 입력 시에만 로그인 버튼 활성화
    (function(){
      const u=document.getElementById('username');
      const p=document.getElementById('password');
      const b=document.getElementById('loginBtn');
      const toggle=()=>{ const ok=u.value.trim()&&p.value.trim(); b.classList.toggle('on',ok); b.setAttribute('aria-disabled',String(!ok)); };
      u.addEventListener('input',toggle); p.addEventListener('input',toggle); window.addEventListener('pageshow',toggle); toggle();
    })();
</script>
</body>
</html>
